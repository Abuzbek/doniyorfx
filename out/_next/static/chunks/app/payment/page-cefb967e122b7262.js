(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{2229:function(e,a,t){Promise.resolve().then(t.bind(t,3218))},3218:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return page}});var n=t(7437),l=t(5762),i=t.n(l),s=t(2265),r=t(3492),o=t.n(r),c=t(4440),d=t.n(c),m=t(9989),p=t.n(m);let u=(0,s.createContext)({});function useAppContext(){return(0,s.useContext)(u)}var payment_MainCard=e=>{let{children:a,finish:t}=e,{theme:l}=useAppContext();return(0,n.jsxs)("div",{className:d()(o().payment,t?"pb-36":""),children:[(0,n.jsx)("div",{className:o().payment_top,children:a}),!t&&(0,n.jsxs)("div",{className:d()(o().payment_bottom,p().className),children:[(0,n.jsx)("span",{children:"DoniyorFX"}),(0,n.jsx)("p",{children:new Date().getFullYear().toString()})]})]})},h=t(4014),x=t.n(h),f=t(1865),_=t(4632),g=t.n(_),y=t(6919);t(6174);var PaymentSection_ErrorIcon=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,n.jsx)("path",{d:"M6.93348 1.97962L0.94494 12.3513C0.836766 12.5386 0.779805 12.7511 0.779785 12.9674C0.779765 13.1837 0.836686 13.3962 0.944826 13.5835C1.05297 13.7708 1.20851 13.9263 1.39583 14.0345C1.58315 14.1426 1.79563 14.1995 2.01192 14.1995H13.988C14.2043 14.1995 14.4168 14.1426 14.6041 14.0345C14.7914 13.9263 14.947 13.7708 15.0551 13.5835C15.1633 13.3962 15.2202 13.1837 15.2202 12.9674C15.2201 12.7511 15.1632 12.5386 15.055 12.3513L9.06712 1.97962C8.959 1.79236 8.80349 1.63686 8.61622 1.52874C8.42896 1.42063 8.21653 1.36371 8.0003 1.36371C7.78406 1.36371 7.57164 1.42063 7.38437 1.52874C7.19711 1.63686 7.0416 1.79236 6.93348 1.97962Z",fill:"#EE404C"}),(0,n.jsx)("path",{d:"M8.07818 5.17847H7.92196C7.53736 5.17847 7.22559 5.49024 7.22559 5.87484V9.20339C7.22559 9.58799 7.53736 9.89977 7.92196 9.89977H8.07818C8.46277 9.89977 8.77455 9.58799 8.77455 9.20339V5.87484C8.77455 5.49024 8.46277 5.17847 8.07818 5.17847Z",fill:"#FFF7ED"}),(0,n.jsx)("path",{d:"M8.00007 12.5397C8.4278 12.5397 8.77455 12.1929 8.77455 11.7652C8.77455 11.3375 8.4278 10.9907 8.00007 10.9907C7.57233 10.9907 7.22559 11.3375 7.22559 11.7652C7.22559 12.1929 7.57233 12.5397 8.00007 12.5397Z",fill:"#FFF7ED"})]});let j=(0,s.forwardRef)((e,a)=>{let{placeholder:t,error:l,type:i,style:s,label:r,onChange:o,...c}=e,m=c.value;return(0,n.jsxs)("div",{className:d()(g().field),style:s,children:[r&&(0,n.jsx)("label",{children:r}),"tel"===i?(0,n.jsx)(y.ZP,{className:g().phoneInput,international:!0,defaultCountry:"UZ",value:m,onChange:o,id:"phone-input"}):(0,n.jsx)("input",{...c,value:c.value,type:i,onChange:o,placeholder:t,ref:a}),l&&(0,n.jsxs)("small",{children:[(0,n.jsx)(PaymentSection_ErrorIcon,{})," ",l.message]})]})});var v=t(4297);let C=(0,s.forwardRef)((e,a)=>{let{theme:t}=useAppContext(),l="dark"===t;return(0,n.jsxs)("div",{className:"relative z-10 flex flex-col justify-between gap-1 h-full",children:[e.label&&(0,n.jsx)("label",{className:"block text-left text-[rgb(119,116,150)] dark:text-white",children:e.label}),(0,n.jsx)(v.ZP,{instanceId:(0,s.useId)(),ref:a,...e,value:e.value,styles:{option:(e,a)=>{let{isSelected:t}=a;return{...e,backgroundColor:l&&t?"#343434":l?"#2b2b2b":t?"#6950FF":"#f4f4f4",margin:0,zIndex:10,position:"relative",cursor:"pointer",color:l&&t?"#fff":l?"#fff":t?"#fff":"#000","&:hover":{backgroundColor:"#6950FF",color:"#fff"},"&:active":{backgroundColor:"#6950FF",color:"#fff"}}},control:(e,a)=>{let{isDisabled:t}=a;return{...e,borderColor:"#dedede",backgroundColor:l&&t?"#343434":l?"#2B2B2B":t?"#eee":"#fff",borderRadius:8,padding:"calc(0.75rem - 5px) 1.25rem",color:l?"#fff":"#000",border:l?"1px solid rgb(64, 64, 64)":"1px solid #ccc"}},input:e=>({...e,borderRadius:5,color:l?"#fff":"#000",padding:0,margin:0}),singleValue:e=>({...e,padding:0,color:l?"#fff":"#000",margin:0}),placeholder:e=>({...e,margin:0,color:l?"#f4f4f4":"#B4B0AF"}),valueContainer:e=>({...e,zIndex:10,margin:0,padding:0}),indicatorSeparator:e=>({...e,display:"none"}),dropdownIndicator:a=>e.miniIndicator?{...a,paddingLeft:8,paddingRight:8,paddingTop:5,paddingBottom:5}:a,menuList:e=>({...e,backgroundColor:"#fff",padding:0})},isDisabled:e.disabled,theme:e=>({...e,borderRadius:0})}),e.error&&(0,n.jsxs)("div",{className:"text-[#EE404C] flex items-center gap-1 sm:text-sm text-xs font-medium mt-1",children:[(0,n.jsx)(PaymentSection_ErrorIcon,{}),e.error.message]})]})});var payment_PaymentCard=e=>{let{children:a}=e;return(0,n.jsx)("div",{className:o().payment_card,children:a})},payment_CourseCard=e=>(0,n.jsxs)("div",{className:o().course_card,children:[(0,n.jsx)("h3",{children:"Mobilografiya 5.0"}),(0,n.jsx)("p",{children:"Kurs davomiyligi: 2,5 oy"})]}),b=/^\+(?:[0-9] ?){8,15}[0-9]$/;let N=[{label:"Standart 3.797.000",value:1},{label:"Premium 3.997.000",value:2},{label:"VIP 7.997.000",value:3}];var payment_FormSection=e=>{let{handleSubmit:a,onSubmit:t,errors:l,control:i,isValid:s,isDirty:r,plan:c,setPlan:m}=e,onSelect=(e,a)=>{a(e.value),m(e)};return(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,n.jsx)(payment_PaymentCard,{children:(0,n.jsx)(payment_CourseCard,{})}),(0,n.jsxs)("form",{onSubmit:a(t),className:"flex flex-col gap-4",children:[(0,n.jsx)(f.Qr,{name:"name",control:i,rules:{required:"Ism bo'sh bo'lmasligi shart",minLength:{value:3,message:"Ismingizni to'liq yozing"}},render:e=>{let{field:{value:a,...t}}=e;return(0,n.jsx)(j,{...t,value:a||"",label:"Ism",error:l.name})}}),(0,n.jsx)(f.Qr,{name:"surname",control:i,rules:{required:"Familiya bo'sh bo'lmasligi shart",minLength:{value:3,message:"Familiyangizni to'liq yozing"}},render:e=>{let{field:{value:a,...t}}=e;return(0,n.jsx)(j,{...t,value:a||"",label:"Familiya",error:l.surname})}}),(0,n.jsx)(f.Qr,{name:"phone",control:i,rules:{required:"Telefon bo'sh bo'lmasligi shart",pattern:{value:b,message:"Raqamingizni to'g'ri yozing"}},render:e=>{let{field:{value:a,...t}}=e;return(0,n.jsx)(j,{...t,value:a||"",type:"tel",label:"Telefon",error:l.phone,autoComplete:"off"})}}),(0,n.jsx)(f.Qr,{name:"plan",control:i,rules:{required:"Tarif bo'sh bo'lmasligi shart "},render:e=>{let{field:{onChange:a,name:t,value:i,...s}}=e;return(0,n.jsx)(C,{...s,options:N,value:c,onChange:e=>onSelect(e,a),label:"Tarif",error:l.plan,placeholder:"Tarifni tanlang"})}}),(0,n.jsx)("button",{className:d()(o().submit_button,r&&s?"":"opacity-50",x().className),children:"To‘lovga o‘tish"})]})]})},w=t(8574),S=t.n(w),UserInfo_UserIcon=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_123_602)",children:[(0,n.jsx)("path",{d:"M18 35.4375C27.6305 35.4375 35.4375 27.6305 35.4375 18C35.4375 8.36953 27.6305 0.5625 18 0.5625C8.36953 0.5625 0.5625 8.36953 0.5625 18C0.5625 27.6305 8.36953 35.4375 18 35.4375Z",fill:"#E6ECFF"}),(0,n.jsx)("path",{d:"M31.9934 28.3921C30.3671 26.2148 28.2553 24.4468 25.826 23.2287C23.3967 22.0106 20.7167 21.3759 17.9991 21.375C15.2815 21.3741 12.6011 22.0072 10.1711 23.2238C7.74097 24.4404 5.62814 26.207 4.00049 28.3833C5.61987 30.5706 7.72924 32.3481 10.1595 33.5731C12.5897 34.7981 15.2732 35.4367 17.9947 35.4375C20.7162 35.4384 23.4001 34.8015 25.8311 33.578C28.2621 32.3545 30.3726 30.5784 31.9934 28.3921Z",fill:"#4294FF"}),(0,n.jsx)("path",{d:"M18 19.125C21.7279 19.125 24.75 16.1029 24.75 12.375C24.75 8.64708 21.7279 5.625 18 5.625C14.2721 5.625 11.25 8.64708 11.25 12.375C11.25 16.1029 14.2721 19.125 18 19.125Z",fill:"#4294FF"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_123_602",children:(0,n.jsx)("rect",{width:"36",height:"36",fill:"white"})})})]}),payment_UserInfo=e=>{let{name:a,phone:t}=e;return(0,n.jsxs)("div",{className:d()("flex items-center gap-2 text-right",S()),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,n.jsx)("p",{className:"text-black text-base not-italic font-medium leading-[normal] dark:text-white",children:a}),(0,n.jsx)("p",{className:"text-black text-sm not-italic font-normal leading-[normal] dark:text-white",children:t})]}),(0,n.jsx)(UserInfo_UserIcon,{})]})},k=t(4942),P=t.n(k),payment_PlanCard=e=>(0,n.jsxs)("div",{className:o().plan_card,children:[(0,n.jsxs)("div",{className:o().plan_title,children:[(0,n.jsx)("h3",{children:e.title}),(0,n.jsx)("h4",{children:e.price})]}),(0,n.jsx)("p",{children:"Kurs davomiyligi: 2,5 oy"})]}),I=t(4951),F=t.n(I),payment_TelegramQuestionCard=e=>{let{theme:a}=useAppContext();return(0,n.jsxs)("div",{className:F().telegram_card,children:[(0,n.jsxs)("span",{children:["Savollaringiz bormi?",(0,n.jsx)("br",{}),"Biz bilan telegramdan bog’laning"]}),(0,n.jsxs)("a",{href:"https://t.me/doniyor_fx",target:"_blank",children:["dark"===a?(0,n.jsx)("img",{src:"/img/telegram_dark.svg",alt:"Telegram"}):(0,n.jsx)("img",{src:"/img/telegram.svg",alt:"Telegram"}),"Telegram orqali bog’lanish"]})]})},z=t(2104);let PaymentService=class PaymentService{static async createPayment(e){return await z.Z.post("payment",e)}static async updatePayment(e,a){return await z.Z.patch("payment/"+e,a)}static async createXpertPayment(e){return await z.Z.post("payment-xpert",e)}static async updateXpertPayment(e,a){return await z.Z.patch("payment-xpert/"+e,a)}};var M=t(4033),PaymentSection_CheckIcon=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_163_505)",children:[(0,n.jsx)("path",{d:"M7 14.5C10.866 14.5 14 11.366 14 7.5C14 3.63401 10.866 0.5 7 0.5C3.13401 0.5 0 3.63401 0 7.5C0 11.366 3.13401 14.5 7 14.5Z",fill:"#00BA00"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.28443 10.3903L3.20344 8.12413C2.91854 7.81388 2.93489 7.32303 3.23982 7.03316C3.54474 6.74329 4.02718 6.75998 4.31208 7.07018L5.91726 8.81815L8.45806 6.40278C8.48091 6.38103 8.50479 6.36111 8.52948 6.34279L9.72432 5.20697C10.0292 4.91709 10.5117 4.93378 10.7966 5.24402C11.0815 5.55423 11.0651 6.04512 10.7602 6.33499L7.11085 9.80419L7.10695 9.79995L5.84459 11L5.28443 10.3903Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_163_505",children:(0,n.jsx)("rect",{width:"14",height:"14",fill:"white",transform:"translate(0 0.5)"})})})]}),PaymentSection_FileIcon=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_163_489)",children:[(0,n.jsx)("path",{d:"M14.0562 3.82087L11.043 0.970187C10.7225 0.666969 10.303 0.5 9.86178 0.5H4.125C3.17728 0.5 2.40625 1.27103 2.40625 2.21875V14.7812C2.40625 15.729 3.17728 16.5 4.125 16.5H12.875C13.8227 16.5 14.5938 15.729 14.5938 14.7812V5.06944C14.5938 4.59916 14.3978 4.14406 14.0562 3.82087ZM13.1457 4.25H10.8125C10.7263 4.25 10.6562 4.17991 10.6562 4.09375V1.89488L13.1457 4.25ZM12.875 15.5625H4.125C3.69422 15.5625 3.34375 15.212 3.34375 14.7812V2.21875C3.34375 1.78797 3.69422 1.4375 4.125 1.4375H9.71875V4.09375C9.71875 4.69684 10.2094 5.1875 10.8125 5.1875H13.6562V14.7812C13.6562 15.212 13.3058 15.5625 12.875 15.5625Z",fill:"white"}),(0,n.jsx)("path",{d:"M11.8438 6.75H4.96875C4.70987 6.75 4.5 6.95987 4.5 7.21875C4.5 7.47763 4.70987 7.6875 4.96875 7.6875H11.8438C12.1026 7.6875 12.3125 7.47763 12.3125 7.21875C12.3125 6.95987 12.1026 6.75 11.8438 6.75Z",fill:"white"}),(0,n.jsx)("path",{d:"M11.8438 9.25H4.96875C4.70987 9.25 4.5 9.45987 4.5 9.71875C4.5 9.97763 4.70987 10.1875 4.96875 10.1875H11.8438C12.1026 10.1875 12.3125 9.97763 12.3125 9.71875C12.3125 9.45987 12.1026 9.25 11.8438 9.25Z",fill:"white"}),(0,n.jsx)("path",{d:"M7.24125 11.75H4.96875C4.70987 11.75 4.5 11.9599 4.5 12.2188C4.5 12.4776 4.70987 12.6875 4.96875 12.6875H7.24125C7.50012 12.6875 7.71 12.4776 7.71 12.2188C7.71 11.9599 7.50012 11.75 7.24125 11.75Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_163_489",children:(0,n.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(0.5 0.5)"})})})]}),Z=t(6428),E=t.n(Z);function CopyButton(e){let{textToCopy:a}=e,[t,l]=(0,s.useState)("Nusxa oling"),[i,r]=(0,s.useState)(!1),handleCopy=async e=>{e.preventDefault(),e.stopPropagation();try{await navigator.clipboard.writeText(a),l("Nusxa olindi"),r(!0),setTimeout(()=>{l("Nusxa oling"),r(!1)},2e3)}catch(e){console.error("Failed to copy: ",e),l("Nusxa olishda xatolik"),r(!0)}};return(0,n.jsxs)("div",{className:"relative flex items-center",children:[(0,n.jsx)("button",{onClick:handleCopy,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:(0,n.jsx)("img",{src:"/img/copy.png",alt:""})}),i&&(0,n.jsxs)("div",{className:"absolute left-full ml-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white text-sm px-3 py-1 rounded shadow-lg whitespace-nowrap",children:[t,(0,n.jsx)("div",{className:"absolute left-[-4px] top-1/2 transform -translate-y-1/2 w-0 h-0 border-t-4 border-b-4 border-r-4 border-transparent border-r-gray-800"})]})]})}var payment_CreditCard=e=>{let{price:a,price_dollar:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:E().credit_card,children:[(0,n.jsxs)("div",{className:E().top,children:[(0,n.jsx)("span",{children:"UZCARD"}),(0,n.jsx)("span",{className:E().price,children:a})]}),(0,n.jsx)("div",{className:E().hr}),(0,n.jsxs)("div",{className:E().bottom,children:[(0,n.jsxs)("div",{className:E().card_number,children:[(0,n.jsx)("span",{children:"8600 5704 7243 5444"}),(0,n.jsx)("p",{children:"Abduganiyev Doniyor"})]}),(0,n.jsx)("div",{className:E().copy,children:(0,n.jsx)(CopyButton,{textToCopy:"8600570472435444"})})]})]}),(0,n.jsxs)("div",{className:E().credit_card,children:[(0,n.jsxs)("div",{className:E().top,children:[(0,n.jsx)("span",{children:"VISA"}),(0,n.jsx)("span",{className:E().price,children:t})]}),(0,n.jsx)("div",{className:E().hr}),(0,n.jsxs)("div",{className:E().bottom,children:[(0,n.jsxs)("div",{className:E().card_number,children:[(0,n.jsx)("span",{children:"4023 0602 3536 4220"}),(0,n.jsx)("p",{children:"SARDOR ABDUGANIYEV"})]}),(0,n.jsx)("div",{className:E().copy,children:(0,n.jsx)(CopyButton,{textToCopy:"4023060235364220"})})]})]})]})},payment_PaymentSection=e=>{let{userData:a}=e,[t,l]=(0,s.useState)(!1),i=(0,M.useSearchParams)(),r=(0,M.useRouter)(),c=(0,M.usePathname)(),m=(0,s.useCallback)((e,a)=>{let t=new URLSearchParams(i.toString());return t.set(e,a),t.toString()},[i]),p=[{title:"Standart tarif",price:"3 797 000 so‘m",price_dollar:"294.5$",value:1},{title:"Premium tarif",price:"3 997 000 so‘m",price_dollar:"310$",value:2},{title:"VIP tarif",price:"7 997 000 so‘m",price_dollar:"620$",value:3}],u=(0,s.useMemo)(()=>p.find(e=>e.value===(null==a?void 0:a.plan)),[null==a?void 0:a.plan]),{handleSubmit:h,control:x,formState:{errors:_,isDirty:g,isValid:y},getValues:j}=(0,f.cI)({defaultValues:{agree:!0}}),onSubmit=async e=>{l(!0);let t=new FormData;t.append("file",e.file);let n=await PaymentService.updatePayment(a._id,t);200===n.status&&(l(!1),r.push(c+"?"+m("user",JSON.stringify(a))+"&finish="+String(!0)))};return(0,s.useMemo)(()=>{let e="https://payme.uz/fallback/merchant/?id=654b87cfcbc3052122211939&"+m("name",a.name)+"&"+m("familiya",a.surname)+"&"+m("tarif",String(null==a?void 0:a.plan))+"&"+m("phone",null==a?void 0:a.phone)+"&"+m("cource","1");return e},[i,a]),(0,s.useMemo)(()=>{let e="https://www.apelsin.uz/open-service?serviceId=498612103&"+m("name",a.name)+"&"+m("familiya",a.surname)+"&"+m("tarif",String(null==a?void 0:a.plan))+"&"+m("phone",null==a?void 0:a.phone)+"&"+m("cource","1");return e},[i,a]),(0,s.useMemo)(()=>{let e="https://my.click.uz/services/pay?service_id=30466&merchant_id=22925&"+m("name",a.name)+"&"+m("familiya",a.surname)+"&"+m("tarif",String(null==a?void 0:a.plan))+"&"+m("phone",null==a?void 0:a.phone)+"&"+m("cource","1");return e},[i,a]),(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[t&&(0,n.jsx)("div",{className:"top-0 left-0 fixed w-full h-full z-50 bg-black opacity-50 flex items-center justify-center",children:(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-20 w-20 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,n.jsx)(payment_PaymentCard,{children:!!u&&(0,n.jsx)(payment_PlanCard,{...u})}),(0,n.jsxs)("form",{onSubmit:h(onSubmit),className:d()(P().className,o().plan_section),children:[(0,n.jsx)("p",{children:"1. To'lov tizimlari orqali to’lovni amalga oshiring"}),(0,n.jsx)(payment_CreditCard,{price:null==u?void 0:u.price,price_dollar:null==u?void 0:u.price_dollar}),(0,n.jsx)("p",{children:"2. To‘lovingiz muvaffaqiyatli amalga oshganini tasdiqlovchi rasmni saqlab oling (screenshot)"}),(0,n.jsx)("p",{children:"3. To‘lovingiz rasmini yuklang"}),(0,n.jsx)(f.Qr,{name:"file",control:x,rules:{required:!0},render:e=>{let{field:{onChange:a,value:t,...l}}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("div",{className:"inline-flex items-center",children:(0,n.jsxs)("label",{className:o().upload_button,htmlFor:"file","data-ripple-dark":"true",children:[(0,n.jsx)("input",{type:"file",className:"sr-only",id:"file",accept:"image/*",...l,onChange:e=>{var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&a(e.target.files[0])}}),j("file")?(0,n.jsxs)("span",{className:"flex items-center gap-1 justify-center",children:[(0,n.jsx)(PaymentSection_FileIcon,{})," ",j("file").name]}):(0,n.jsx)("span",{children:"Chek rasmini yuklash uchun bosing"})]})}),_.file&&(0,n.jsxs)("small",{className:"text-[#EE404C] flex items-center gap-1 sm:text-sm text-xs font-medium",children:[(0,n.jsx)(PaymentSection_ErrorIcon,{}),"To'lovni yakunlash uchun avval chek rasmini yuklang"]}),!!j("file")&&(0,n.jsxs)("span",{className:"text-green-500 sm:text-sm text-xs font-medium flex items-center gap-1",children:[(0,n.jsx)(PaymentSection_CheckIcon,{})," Rasm muvaffaqiyatli yuklandi"]})]})}}),(0,n.jsx)("button",{className:d()(o().submit_button,g&&y?"":"opacity-50"),children:"To‘lovni yakunlash"}),(0,n.jsx)(payment_TelegramQuestionCard,{})]})]})},L=t(3153),T=t.n(L),R=t(3552),q=t.n(R),B=t(9953),H=t.n(B),payment_CongratulationSection=e=>(0,n.jsxs)("div",{className:d()(H().congratulation_section,q().className),children:[(0,n.jsx)("div",{className:H().icon,children:(0,n.jsx)("img",{src:"/img/con.png",alt:""})}),(0,n.jsxs)("div",{className:H().text_content,children:[(0,n.jsx)("h3",{children:"Tabriklaymiz!"}),(0,n.jsx)("h2",{children:"So’rovingiz muvaffaqiyatli qabul qilindi"}),(0,n.jsx)("p",{children:"Siz bilan 48 soat ichida bog‘lanamiz va batafsil ma’lumot beramiz"})]}),(0,n.jsxs)("div",{className:H().button_group,children:[(0,n.jsx)("a",{href:"/",className:H().home_link,children:"Asosiyga qaytish"}),(0,n.jsxs)("a",{href:"https://instagram.com/DoniyorFx",className:H().instagram_link,target:"_blank",children:[(0,n.jsx)("img",{src:"/img/instagram.svg",alt:""}),"@DoniyorFx"]})]})]}),page=()=>{let[e,a]=(0,s.useState)(),[t,l]=(0,s.useState)(1),[r,c]=(0,s.useState)(),[m,p]=(0,s.useState)(!1),u=(0,M.useSearchParams)(),h=(0,M.usePathname)(),x=(0,M.useRouter)(),_=(0,s.useCallback)((e,a)=>{let t=new URLSearchParams(u.toString());return t.set(e,a),t.toString()},[u.toString()]),{handleSubmit:g,control:y,formState:{errors:j,isDirty:v,isValid:C},setValue:b}=(0,f.cI)(),onSubmit=async e=>{let a=await PaymentService.createPayment(e);200===a.status&&(c(a.data),l(2),x.push(h+"?"+_("user",JSON.stringify(a.data))))};return(0,s.useEffect)(()=>{u.get("user")?(l(2),c(JSON.parse(u.get("user")||""))):l(1),u.get("plan")&&(b("plan",u.get("plan")||""),a(N.find(e=>e.value===Number(u.get("plan")))||void 0),console.log(N.find(e=>e.value===Number(u.get("plan"))))),p(u.has("finish"))},[h,u.toString()]),(0,s.useEffect)(()=>{T().initialize({gtmId:"G-EGRC8JB9PG"})},[]),(0,n.jsx)("div",{className:d()(i().className,o().main),children:(0,n.jsx)(payment_MainCard,{finish:m,children:(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between gap-6",children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("a",{href:"#",className:o().logo,children:["Mobilografiya va ",(0,n.jsx)("br",{})," Instagram 4.0"]}),(0,n.jsx)(payment_UserInfo,{name:r.name,phone:r.phone})]}):null}),1===t?(0,n.jsx)(payment_FormSection,{handleSubmit:g,onSubmit:onSubmit,errors:j,control:y,isValid:C,isDirty:v,plan:e,setPlan:a}):r&&!m?(0,n.jsx)(payment_PaymentSection,{userData:r}):r&&m?(0,n.jsx)(payment_CongratulationSection,{}):null]})})})}},2104:function(e,a,t){"use strict";var n=t(2173);let l=n.Z.create({baseURL:"https://doniyorfx.uz/api/"});a.Z=l},6174:function(){},4632:function(e){e.exports={field:"field_field__wefbQ",PhoneInputInput:"field_PhoneInputInput__hDPhi",phoneInput:"field_phoneInput__pJ14i"}},9953:function(e){e.exports={congratulation_section:"congratulation_congratulation_section__0tqib",icon:"congratulation_icon__T5r5r",text_content:"congratulation_text_content__A0Mzk",button_group:"congratulation_button_group__JuLUv",home_link:"congratulation_home_link__jbbcj",instagram_link:"congratulation_instagram_link__3LfZs"}},6428:function(e){e.exports={credit_card:"styles_credit_card__jef9L",top:"styles_top__2aj_S",bottom:"styles_bottom__yFGaB",card_number:"styles_card_number__x08mt",hr:"styles_hr__Lw6b7"}},3492:function(e){e.exports={main:"payment_main__GJ08G",payment:"payment_payment__aTIWS",logo:"payment_logo__fFONU",middle_text:"payment_middle_text__GWXz6",payment_top:"payment_payment_top__RZ9yY",payment_bottom:"payment_payment_bottom__lYyQa",payment_card:"payment_payment_card__IO0FG",course_card:"payment_course_card__Ujsoa",plan_card:"payment_plan_card__6HrE2",plan_title:"payment_plan_title__CxvFt",submit_button:"payment_submit_button__Cpw_3",upload_button:"payment_upload_button__mO6JM",plan_section:"payment_plan_section__nXsJo",payme_link:"payment_payme_link__MP56X",uzum_link:"payment_uzum_link__ESlNe",offerta:"payment_offerta__n3RbP"}},4951:function(e){e.exports={telegram_card:"telegram_telegram_card__sWqSU"}}},function(e){e.O(0,[133,475,971,472,744],function(){return e(e.s=2229)}),_N_E=e.O()}]);